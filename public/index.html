<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Prometheus Web</title>

<style>
    body{
        margin:0;
        background:#0f0f0f;
        font-family: Arial, sans-serif;
        color:white;
        display:flex;
        justify-content:center;
        align-items:flex-start;
        min-height:100vh;
    }

    .container{
        width:90%;
        max-width:600px;
        margin-top:80px;
    }

    h1{
        font-size:28px;
        font-weight:500;
        margin-bottom:30px;
        border-bottom:1px solid #2a2a2a;
        padding-bottom:20px;
    }

    .section{
        margin-bottom:30px;
    }

    .button{
        background:#335FFF;
        color:white;
        border:none;
        padding:18px;
        width:100%;
        font-size:20px;
        border-radius:12px;
        cursor:pointer;
        transition:0.2s;
    }

    .button:hover{
        opacity:0.9;
    }

    .upload-wrapper{
        display:flex;
        align-items:center;
        gap:15px;
        flex-wrap:wrap;
    }

    input[type="file"]{
        display:none;
    }

    .file-label{
        background:#335FFF;
        padding:18px 25px;
        border-radius:12px;
        font-size:20px;
        cursor:pointer;
        display:inline-block;
    }

    .file-name{
        color:#aaa;
        font-size:18px;
    }

    select{
        background:#335FFF;
        border:none;
        padding:18px;
        width:100%;
        font-size:20px;
        border-radius:12px;
        color:white;
        cursor:pointer;
        appearance:none;
    }

    hr{
        border:1px solid #2a2a2a;
        margin:40px 0;
    }

    @media (max-width:480px){
        h1{
            font-size:22px;
        }

        .button,
        select,
        .file-label{
            font-size:18px;
            padding:16px;
        }
    }
</style>

</head>

<body>

<div class="container">

<h1>Prometheus Web (Lua Obfuscator)</h1>

<form action="/obfuscate" method="post" enctype="multipart/form-data">

<div class="section upload-wrapper">
    <label class="file-label" for="file">Upload a file</label>
    <span class="file-name" id="file-name">No file selected.</span>
    <input type="file" id="file" name="file" accept=".lua" required
    onchange="document.getElementById('file-name').innerText = this.files[0] ? this.files[0].name : 'No file selected.'">
</div>

<div class="section">
    <select name="preset">
        <option value="Minify">Minify</option>
        <option value="Weak">Weak</option>
        <option value="Medium" selected>Medium</option>
        <option value="Strong">Strong</option>
    </select>
</div>

<hr>

<div class="section">
    <button type="submit" class="button">Obfuscate</button>
</div>

</form>

</div>

<script>
document.getElementById("file").addEventListener("change", function () {
    const file = this.files[0];

    if (!file) return;

    const fileName = file.name.toLowerCase();

    if (!fileName.endsWith(".lua")) {
        alert("Only .lua files are allowed.");
        this.value = "";
        document.getElementById('file-name').innerText = "No file selected.";
        return;
    }

    document.getElementById('file-name').innerText = file.name;
});
</script>

</body>
</html>
